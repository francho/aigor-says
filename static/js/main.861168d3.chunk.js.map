{"version":3,"sources":["components/themes/darkTheme.ts","components/themes/GlobalStyle.ts","components/header/Navigation.tsx","components/header/Header.tsx","config/config.tsx","config/ApiServersConfigContext.tsx","services/use-server-status.tsx","components/avatar/AvatarImage.tsx","components/avatar/Avatar.tsx","components/target-selector/TargetSelector.tsx","components/message-form/MessageForm.tsx","components/loader/Spinner.tsx","components/toast/Toast.tsx","components/toast/ToastContainer.tsx","components/toast/ToastProvider.tsx","services/use-send-message.tsx","App.tsx","reportWebVitals.js","index.tsx"],"names":["darkTheme","header","headerText","text","toggleBorder","background","selectedColor","toastColor","GlobalStyle","createGlobalStyle","Navigation","styled","nav","Header","id","appConfig","ApiServersConfigContext","React","createContext","fetchServerStatus","server","a","url","isAlive","fetch","then","console","log","AvatarImage","img","props","selected","enabled","Avatar","useState","setSelected","setEnabled","useEffect","src","avatar","alt","onClick","isSelected","onChange","TargetSelectorContainer","div","TargetSelector","apiServers","useContext","Map","selectedServers","setSelectedServers","onServerChange","apiServer","set","onServerSelected","targetServers","filter","get","map","MessageFormContainer","TextArea","textarea","SendButton","button","MessageForm","message","setMessage","rows","value","event","target","placeholder","disabled","length","onMessageSend","SpinnerContainer","small","middle","large","SpinnerBounceMiddle","SpinnerText","Spinner","loading","ToastWrapper","ToastAvatar","ToastMessage","Toast","toast","content","ToastContainerWrapper","ToastContainer","createPortal","toasts","item","document","body","NotImplementedProvider","addToast","Error","removeToast","ToastContext","nextId","ToastProvider","children","setToasts","useCallback","setTimeout","t","Provider","postMessage","isSent","options","method","headers","JSON","stringify","phrase","catch","e","App","setLoading","forEach","ok","name","finally","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","theme","getElementById"],"mappings":"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","file":"static/js/main.861168d3.chunk.js","sourcesContent":["/* Color Theme Swatches in Hex */\n// $color-theme_UI_UX-Inspiration-on-Instagram_-“-1-hex: #D94E5A;\n// $color-theme_UI_UX-Inspiration-on-Instagram_-“-2-hex: #124040;\n// $color-theme_UI_UX-Inspiration-on-Instagram_-“-3-hex: #387373;\n// $color-theme_UI_UX-Inspiration-on-Instagram_-“-4-hex: #92A693;\n// $color-theme_UI_UX-Inspiration-on-Instagram_-“-5-hex: #F2F2F2;\n\nexport const darkTheme = {\n  header: \"#124040\",\n  headerText: \"#92A693\",\n  text: \"#124040\",\n  toggleBorder: \"#387373\",\n  background: \"#92A693\",\n  selectedColor: \"#D94E5A\",\n  toastColor: \"rgba(255,255,255,.9)\",\n};\n","import { createGlobalStyle} from \"styled-components\"\nimport { darkTheme } from \"./darkTheme\"\n\nexport const GlobalStyle = createGlobalStyle`\n  body {\n    background: ${darkTheme.background};\n    color: ${darkTheme.text};\n    font-family: Tahoma, Helvetica, Arial, Roboto, sans-serif;\n    transition: all 0.50s linear;\n  }\n  `","import styled from \"styled-components\";\nimport { darkTheme } from \"../themes\";\n\nexport const Navigation = styled.nav`\n background: ${darkTheme.header};\n height: 40px;\n z-index: 1;\n display: flex;\n justify-content:space-between;\n align-items: center;\n padding: 0 10px;\n font-family: Motiva-Sans, Sans-serif;\n font-weight: 200;\n font-size: 22px;\n color: ${darkTheme.headerText};\n `\n","import React from \"react\"\nimport { Navigation } from \"./Navigation\"\n\nexport const Header: React.FC = () => {\n    return (\n        <Navigation>\n            <div id=\"brand\">Aigor says...</div>\n        </Navigation>\n    )\n}\n","export const appConfig = [\n  {\n    \"id\": \"abel\",\n    \"name\": \"Abel\",\n    \"url\": \"http://clank.local:5000\",\n    \"avatar\": \"./avatars/athleich.jpg\"\n  },\n  {\n    \"id\": \"hugo\",\n    \"name\": \"Hugo\",\n    \"url\": \"http://bmo.local:5000\",\n    \"avatar\": \"./avatars/oguhza.jpg\"\n  }\n]\n\n","import React from \"react\";\nimport { ApiServer } from \"./ApiServer\";\nimport { appConfig } from \"./config\";\n\nexport const ApiServersConfigContext = React.createContext<ApiServer[]>(appConfig)\n","import { ApiServer } from \"../config/ApiServer\";\n\nconst fetchServerStatus = async (server: ApiServer): Promise<boolean> => {\n  const url = `${server.url}/health`\n  let isAlive = false\n  try {\n    await fetch(url).then(() => isAlive = true)\n  } catch (e) {\n    console.log(e)\n  }\n  return isAlive\n}\n\nexport const useServerStatus = () => fetchServerStatus\n","import styled from \"styled-components\";\nimport { darkTheme } from \"../themes\";\n\ntype AvatarImageProps = {\n  selected: boolean;\n  enabled: boolean;\n}\n\nexport const AvatarImage = styled.img`\nwidth: 84px;\nheight: 84px;\nmargin-top: 1em;\nmargin-right: 1em;\n\n-webkit-border-radius: 50%;\n-moz-border-radius: 50%;\nborder-radius: 50%;\n\n-webkit-box-shadow: 0 0 0 5px ${(props: AvatarImageProps) => props.selected ? darkTheme.selectedColor : \"rgba(255,255,255,0.2)\"}, 0 0 0 4px #999, 0 2px 5px 4px rgba(0,0,0,.2);\n-moz-box-shadow: 0 0 0 5px ${(props: AvatarImageProps) => props.selected ? darkTheme.selectedColor : \"rgba(255,255,255,0.2)\"}, 0 0 0 4px #999, 0 2px 5px 4px rgba(0,0,0,.2);\nbox-shadow: 0 0 0 5px ${(props: AvatarImageProps) => props.selected ? darkTheme.selectedColor : \"rgba(255,255,255,0.2)\"}, 0 0 0 4px #999, 0 2px 5px 4px rgba(0,0,0,.2);\n\nopacity: ${(props: AvatarImageProps) => props.enabled ? 1 : .2};\n\n`\n","import React, { useEffect, useState } from \"react\"\nimport { ApiServer } from \"../../config/ApiServer\"\n// import { useInterval } from \"../../hooks/useInterval\"\nimport { useServerStatus } from \"../../services/use-server-status\"\nimport { AvatarImage } from \"./AvatarImage\"\n\nexport type AvatarProps = {\n  server: ApiServer;\n  onChange?: (apiServer: ApiServer, selected: boolean) => void;\n}\n\n// const CHECK_INTERVAL = 5000\n\nexport const Avatar: React.FC<AvatarProps> = (props) => {\n  const [selected, setSelected] = useState(false)\n  const [enabled, setEnabled] = useState(false)\n  const fetchServerStatus = useServerStatus()\n\n  useEffect(() => {\n    fetchServerStatus(props.server).then((isAlive) => setEnabled(isAlive))\n  }, [props.server, fetchServerStatus])\n\n  const onClick = () => {\n    if (!enabled) {\n      return\n    }\n    const isSelected = !selected\n    setSelected(isSelected)\n    if (props.onChange) {\n      props.onChange(props.server, isSelected)\n    }\n  }\n\n  /*\n  useInterval(() => {\n    fetchServerStatus(props.server).then((isAlive) => setEnabled(isAlive))\n    console.log(\"tick\", props.server.name)\n  }, CHECK_INTERVAL)\n  */\n\n  return (\n    <AvatarImage\n      src={props.server.avatar}\n      alt={props.server.id}\n      onClick={onClick}\n      selected={selected}\n      enabled={enabled}\n    />\n  )\n}\n","import React, { useState } from \"react\"\nimport styled from \"styled-components\"\nimport { ApiServer } from \"../../config/ApiServer\"\nimport { ApiServersConfigContext } from \"../../config/ApiServersConfigContext\"\nimport { Avatar } from \"../avatar/Avatar\"\n\nconst TargetSelectorContainer = styled.div`\n  padding: 10px;\n  margin: auto;\n  width: fit-content;\n`\n\n\nexport type TargetSelectorProps = {\n  onServerSelected?: (selectedServers: ApiServer[]) => void;\n}\n\nexport const TargetSelector: React.FC<TargetSelectorProps> = (props) => {\n  const apiServers = React.useContext(ApiServersConfigContext)\n  const [selectedServers, setSelectedServers] = useState(new Map())\n\n  const onServerChange = (apiServer: ApiServer, selected: boolean) => {\n    selectedServers.set(apiServer.id, selected)\n    setSelectedServers(selectedServers)\n    if (props.onServerSelected) {\n      const targetServers = apiServers.filter((server) => selectedServers.get(server.id))\n      props.onServerSelected(targetServers)\n    }\n  }\n\n  return (\n    <TargetSelectorContainer>\n      {\n        apiServers.map(apiServer =>\n          <Avatar\n            key={apiServer.id}\n            server={apiServer}\n            onChange={onServerChange}\n          />\n        )\n      }\n    </TargetSelectorContainer>\n  )\n}\n","import React, { useState } from \"react\"\nimport styled from \"styled-components\"\nimport { darkTheme } from \"../themes\"\n\nconst MessageFormContainer = styled.div`\n  padding: 10px;\n  width: 90%;\n  margin: auto;\n`\n\nconst TextArea = styled.textarea`\n  width: 100%;\n  padding:10px;\n  border:none ;\n  font-size:1.5em;\n  border-radius:10px;\n  outline:none;\n  transition: box-shadow .3s ease;\n  display: block;\n  -webkit-box-sizing: border-box;\n  -moz-box-sizing: border-box;\n  box-sizing: border-box;\n  color: ${darkTheme.text};\n  :focus {\n    box-shadow: 0px 0px 0px 4px ${darkTheme.selectedColor};\n  }\n`\nconst SendButton = styled.button`\n  width: 100%;\n  padding: 10px;\n  background-color: ${darkTheme.selectedColor};\n  display: block;\n  border: 0px;\n  border-radius: 10px;\n  font-size: 1.8em;\n  margin-top: 10px;\n  color: ${darkTheme.text};\n  transition: opacity .3s ease;\n  :disabled {\n    opacity: .1\n  }\n`\n\ntype MessageFormProps = {\n  onMessageSend: (message: string) => void;\n  enabled: boolean;\n}\n\nexport const MessageForm: React.FC<MessageFormProps> = (props) => {\n  const [message, setMessage] = useState(\"\")\n  const sendForm = () => {\n    props.onMessageSend(message)\n    setMessage(\"\")\n  }\n\n  return (\n    <MessageFormContainer>\n      <TextArea\n        rows={5}\n        value={message}\n        onChange={(event) => setMessage(event.target.value)}\n        placeholder=\"¿Qué quieres que les diga?\"\n      >\n      </TextArea>\n      <SendButton disabled={!props.enabled || message.length < 1} onClick={sendForm}>enviar</SendButton>\n    </MessageFormContainer>\n  )\n}\n","import React from \"react\"\nimport styled from \"styled-components\"\nimport { darkTheme } from \"../themes\"\n\nconst SpinnerContainer = styled.div`\n    position:fixed;\n    width:100%;\n    left:0;right:0;top:0;bottom:0;\n    background-color: rgba(0,0,0,.7);\n    z-index:9999;\n    display:flex;\n    align-items: center;\n    justify-content: center;\n    flex-flow: column;\n`\n\nconst small = \"8px\"\nconst middle = \"16px\"\nconst large = \"40px\"\n\nconst SpinnerBounceMiddle = styled.div`\n\n@-webkit-keyframes bounce-middle {\n  0% {\n    height: ${small};\n    margin-top: ${middle};\n    margin-bottom: ${middle};\n  }\n  50% {\n    height: ${large};\n    margin-top: 0px;\n    margin-bottom: 0px;\n  }\n  100% {\n    height: ${small};\n    margin-top: ${middle};\n    margin-bottom: ${middle};\n  }\n}\n\n@keyframes bounce-middle {\n  0% {\n    height: ${small};\n    margin-top: ${middle};\n    margin-bottom: ${middle};\n  }\n  50% {\n    height: ${large};\n    margin-top: 0px;\n    margin-bottom: 0px;\n  }\n  100% {\n    height: ${small};\n    margin-top: ${middle};\n    margin-bottom: ${middle};\n  }\n}\n\n&, :before, :after {\n  width: ${small};\n  height: ${large};\n  background-color: ${darkTheme.selectedColor};\n  border-radius: 2px;\n}\n\n  display: inline-block;\n  position: relative;\n\n  :before, :after {\n  content: \"\";\n  position: absolute;\n  display: block;\n  top: 0px;\n}\n:before {\n  left: -12px;\n}\n:after {\n  left: 12px;\n}\n\n  -webkit-animation: bounce-middle 0.6s ease 0.1s infinite;\n          animation: bounce-middle 0.6s ease 0.1s infinite;\n\n:before, :after {\n  top: 50%;\n  -webkit-transform: translateY(-10px) translateZ(0);\n          transform: translateY(-10px) translateZ(0);\n}\n:before {\n  -webkit-animation: bounce-middle 0.6s ease 0s infinite;\n          animation: bounce-middle 0.6s ease 0s infinite;\n}\n:after {\n  -webkit-animation: bounce-middle 0.6s ease 0.2s infinite;\n          animation: bounce-middle 0.6s ease 0.2s infinite;\n}\n`\nconst SpinnerText = styled.div`\n    display: block;\n    color: ${darkTheme.selectedColor};\n    margin-top: 10px;\n    font-size: .8em;\n`\n\ntype SpinnerProps = {\n    loading: boolean;\n}\n\n\nexport const Spinner: React.FC<SpinnerProps> = (props) => {\n    return (\n        !props.loading ?\n            null :\n            <SpinnerContainer>\n                <SpinnerBounceMiddle />\n                <SpinnerText>hablando con los chicos...</SpinnerText>\n            </SpinnerContainer>\n    )\n}","import React from \"react\";\nimport styled from \"styled-components\";\nimport { darkTheme } from \"../themes\";\nimport { ToastData } from \"./ToastData\";\n\n\nconst ToastWrapper = styled.div`\n  width: 100%;\n  padding-left: 10px;\n  animation: popFromBottom 0.5s ease-in-out;\n  display: flex;\n  flex-direction: row;\n  justify-content: end;\n  @keyframes popFromBottom {\n    0% { transform: translateY(300px) scale(0); }\n    100% { transform: translateY(0px) scale(1); }\n  }\n`\n\nconst ToastAvatar = styled.img`\n  width: 54px;\n  height: 54px;\n  margin-top: 1em;\n  margin-right: 1em;\n\n  -webkit-border-radius: 50%;\n  -moz-border-radius: 50%;\n  border-radius: 50%;\n\n  -webkit-box-shadow: 0 0 0 5px rgba(255,255,255,0.2), 0 0 0 4px #fff, 0 2px 5px 4px rgba(0,0,0,.2);\n  -moz-box-shadow: 0 0 0 5px rgba(255,255,255,0.2), 0 0 0 4px #fff, 0 2px 5px 4px rgba(0,0,0,.2);\n  box-shadow: 0 0 0 5px rgba(255,255,255,0.2), 0 0 0 4px #fff, 0 2px 5px 4px rgba(0,0,0,.2);\n`\n\nconst ToastMessage = styled.div`\n  background: ${darkTheme.toastColor};\n  padding: 10px 50px 10px 10px;\n  border-radius: 50px 50px 50px 50px ;\n  margin: 20px -40px 20px 10px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n\n  -webkit-box-shadow: 0 0 0 5px rgba(255,255,255,0.2), 0 0 0 4px #fff, 0 2px 5px 4px rgba(0,0,0,.2);\n  -moz-box-shadow: 0 0 0 5px rgba(255,255,255,0.2), 0 0 0 4px #fff, 0 2px 5px 4px rgba(0,0,0,.2);\n  box-shadow: 0 0 0 5px rgba(255,255,255,0.2), 0 0 0 4px #fff, 0 2px 5px 4px rgba(0,0,0,.2);\n`\n\ntype ToastProps = {\n  toast: ToastData;\n}\n\nexport const Toast: React.FC<ToastProps> = (props) => (\n  <ToastWrapper>\n    <ToastMessage>{props.toast.content}</ToastMessage>\n    <ToastAvatar src=\"./avatars/aigor.jpg\"></ToastAvatar>\n  </ToastWrapper >\n);\n","import React from \"react\";\nimport { createPortal } from \"react-dom\";\nimport styled from \"styled-components\";\nimport { Toast } from \"./Toast\";\nimport { ToastData } from \"./ToastData\";\n\nconst ToastContainerWrapper = styled.div`\n  position: absolute;\n  right: 0;\n  bottom: 10px;\n  display: flex;\n  flex-direction: column;\n  align-items: end;\n`\n\ntype ToastContainerProps = {\n  toasts: ToastData[]\n}\n\nexport const ToastContainer: React.FC<ToastContainerProps> = (props) => {\n  return createPortal(\n    <ToastContainerWrapper>\n      {\n        props.toasts.map(item => ( <Toast key={item.id} toast={item} />))\n      }\n    </ToastContainerWrapper>,\n    document.body\n  );\n}\n","import React, { useContext } from \"react\";\nimport { createContext, useCallback, useState } from \"react\";\nimport { ToastContainer } from \"./ToastContainer\";\nimport { ToastData } from \"./ToastData\";\n\n\ntype ToastProviderInterface = {\n  addToast: (content: string) => void,\n  removeToast: (id: number) => void\n}\n\nconst NotImplementedProvider: ToastProviderInterface = {\n  addToast: (message: string) => { throw new Error(\"Not implemented\") },\n  removeToast: (id: number) => { throw new Error(\"Not implemented\") }\n}\n\nconst ToastContext = createContext<ToastProviderInterface>(NotImplementedProvider)\n\nlet nextId = 1\n\nconst ToastProvider: React.FC = ({ children }) => {\n  const [toasts, setToasts] = useState([] as ToastData[])\n\n  const addToast = useCallback(\n    (content: string) => {\n      const toast = { id: nextId++, content: content }\n      setToasts((toasts) => [...toasts, toast])\n      setTimeout(() => removeToast(toast.id), 3000)\n    },\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n    [setToasts],\n  )\n\n  const removeToast = useCallback(\n    (id: number) => {\n      setToasts((toasts) => toasts.filter(t => t.id !== id))\n    },\n    [setToasts]\n  )\n\n  return (\n    <ToastContext.Provider value={\n      {\n        addToast,\n        removeToast\n      }\n    }>\n      <ToastContainer toasts={toasts} />\n      {children}\n    </ToastContext.Provider>\n  )\n}\n\nconst useToast = () => {\n  const toastHelpers = useContext(ToastContext);\n\n  return toastHelpers;\n};\n\nexport { ToastContext, useToast };\nexport default ToastProvider\n","import { ApiServer } from \"../config/ApiServer\";\n\nconst postMessage = async (server: ApiServer, message: string): Promise<boolean> => {\n  const url = `${server.url}/api/Speaker/say`\n  let isSent = false\n  try {\n    const options = {\n      method: \"POST\",\n      headers: {\n        'Accept': 'application/json',\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify({ phrase: message })\n    }\n    await fetch(url, options)\n      .then(() => isSent = true)\n      .catch((e) => console.log(e))\n  } catch (e) {\n    console.log(e)\n  }\n  return isSent\n}\n\nexport const useSendMessage = () => postMessage\n","import React, { useState } from \"react\"\nimport { Header } from './components/header/Header';\nimport { TargetSelector } from './components/target-selector/TargetSelector';\nimport { ApiServer } from \"./config/ApiServer\";\nimport { MessageForm } from \"./components/message-form/MessageForm\";\nimport { Spinner } from \"./components/loader/Spinner\";\nimport { useToast } from \"./components/toast/ToastProvider\";\nimport { GlobalStyle } from \"./components/themes\";\nimport { useSendMessage } from \"./services/use-send-message\";\n\nfunction App() {\n  const [selectedServers, setSelectedServers] = useState([] as ApiServer[])\n  const [loading, setLoading] = useState(false)\n  const toast = useToast()\n  const postMessage = useSendMessage()\n\n  const sendMessage = (message: string): void => {\n    setLoading(true)\n    selectedServers.forEach((server) => {\n      postMessage(server, message)\n        .then((ok) => {\n          toast.addToast(`mensaje enviado a ${server.name} ${ok? \"ok\": \"error\"}`)\n        })\n        .catch((e) => toast.addToast(e))\n        .finally(() => setLoading(false))\n    })\n  }\n\n  return (\n    <>\n      <GlobalStyle />\n      <Header />\n      <TargetSelector onServerSelected={setSelectedServers} />\n      <MessageForm\n        onMessageSend={sendMessage}\n        enabled={selectedServers.length > 0}\n      />\n      <Spinner loading={loading}></Spinner>\n      {loading}\n    </>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\nimport ToastProvider from './components/toast/ToastProvider';\nimport { ThemeProvider } from 'styled-components';\nimport { darkTheme } from './components/themes';\n\nReactDOM.render(\n  <React.StrictMode>\n    <ThemeProvider theme={darkTheme}>\n      <ToastProvider>\n        <App />\n      </ToastProvider >\n    </ThemeProvider>\n  </React.StrictMode >,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}